##### Question

1. å¦‚ä½•ç†è§£è¯­è¨€çš„å‰åå…³ç³»ï¼Ÿ



##### formula induction

$$
\begin{flalign*}
RNN:&h_t=f(h_{t-1},x_t)=f(z_t)=f(Uh_{t-1}+Wx_t+b)\\
&z_{t+1}=Uh_t+Wx_{t+1}+b&&\\
LSTM:&c_t=i_{t}\odot x_t+h_{t-1}\odot f_{t}
\end{flalign*}
$$

* BPTT

$$
\begin{flalign*}
\delta_{t,k}&=\frac {\partial L_t}{\partial z_k}=\frac{\partial L_t}{\partial z_{k+1}}\frac {z_{k+1}}{\partial h_{k}}\frac {h_{k}}{z_k}\\
&=\delta_{t,k+1}Uf'(z_{k})\\
\frac {\partial L_t}{\partial u_{i,j}}&=\sum_{k=1}^t\sum_{t}\frac{\partial z_{k,l}}{\partial}
\end{flalign*}
$$

* LSTM

$$
\begin{flalign*}
&c_t=f_t\odot c_{t-1}+i_t\odot \widetilde c_t\\
&h_t=o_t\odot tanh(c_t)\\
&where f_t,i_t,o_t are\ forget,input,output gate\\
&\widetilde c_t=tanh(W_cx_t+U_ch_{t-1}+b_c)\\
&where
\end{flalign*}
$$



##### nndlç¬”è®°

1. å…·æœ‰è®°å¿†èƒ½åŠ›çš„3ç§ç½‘ç»œçš„åŒºåˆ«

   1. å»¶æ—¶ç¥ç»ç½‘ç»œ=å‰å‘ç¥ç»ç½‘ç»œ+å‰é©±ç¥ç»å…ƒå†å²ä¿¡æ¯
   2. æœ‰å¤–éƒ¨è¾“å…¥çš„éçº¿æ€§è‡ªå›å½’æ¨¡å‹=å¤–éƒ¨å†å²è¾“å…¥+è‡ªèº«å†å²è¾“å‡º
   3. å¾ªç¯ç¥ç»ç½‘ç»œ=å¤–éƒ¨è¾“å…¥+å‰é©±ç¥ç»å…ƒå†å²(>>è‡ªèº«å†å²è¾“å‡º)

   * å‡ä¸ºå¤„ç†åºåˆ—å¼è¾“å…¥

2. è¾“å‡ºä¸ä»…ä¸å½“å‰è¾“å…¥æœ‰å…³ï¼Œè¿˜ä¸ä¹‹å‰çš„è¾“å…¥ä¸è¾“å‡ºæœ‰å…³

3. é€šç”¨è¿‘ä¼¼å®šç†æ‹“å±•>>ä¸€ä¸ªæœ‰è¶³å¤Ÿæ•°é‡çš„sigmoidç¥ç»å…ƒçš„å¾ªç¯ç¥ç»ç½‘ç»œå¯ä»¥æ¨¡æ‹Ÿéçº¿æ€§åŠ¨åŠ›ç³»ç»Ÿ

   $s_t=g(s_{t-1},x_t)\quad y_t=o(s_t)$ï¼Œç©ºé—´ç³»ç»Ÿéšæ—¶é—´çš„å˜æ¢çš„å‡½æ•°è¡¨è¾¾

   ä¸Šé¢è¿™ä¸ªç¥ç»ç½‘ç»œæ˜¯å›¾çµ-å®Œå¤‡çš„ï¼Œè¿‘ä¼¼å¯ä»¥æ‰§è¡Œä»»ä½•å¯è®¡ç®—é—®é¢˜

4. åº”ç”¨åœºæ™¯ã€åºåˆ—-æ ‡ç­¾ã€åºåˆ—-åºåˆ—(åŒæ­¥-åªå’Œå½“å‰è¾“å…¥ã€ä¹‹å‰éšçŠ¶æ€æœ‰å…³)ã€åºåˆ—-åºåˆ—(å¼‚æ­¥-ç¼–ç å™¨-è¯‘ç å™¨)

5. å‚æ•°ä¼˜åŒ–ã€è€å®æ±‚å¯¼â€”â€”**éšæ—¶é—´åå‘ä¼ æ’­ç®—æ³•* 

6. è‡ªå›å½’ç½‘ç»œçš„é—®é¢˜-æ¢¯åº¦æ¶ˆå¤±ã€æ¢¯åº¦çˆ†ç‚¸

7. é•¿çŸ­æœŸè®°å¿†ç½‘ç»œå’Œé—¨æ§ç¥ç»ç½‘ç»œåƒOSä¸­çš„è½¯ä»¶å®šä¹‰é—¨

   $z_t,(1-z_t)$å¤„ç†å†å²ä¸å½“å‰ï¼Œ$r_t\odot$é€‰æ‹©å†å²

8. å¦‚ä½•å¢å¼ºå¾ªç¯ç¥ç»ç½‘ç»œçš„è¡¨è¾¾èƒ½åŠ›

   * å¢åŠ æ·±åº¦>>1. ç®€å•å †ç Œå¾ªç¯ç½‘ç»œï¼Œ
     2. ä¸ºå¤„ç†åç»­æ—¶åˆ»çš„ä¿¡æ¯ï¼Œé‡‡ç”¨åŒå‘å¾ªç¯ç½‘ç»œ
   * å˜æ¢ç»“æ„â€”â€”1. é‡‡ç”¨é€’å½’ç¥ç»ç½‘ç»œï¼Œç‰¹ä¾‹=å¤„ç†åºåˆ—çš„å¾ªç¯ç¥ç»ç½‘ç»œ
     2. é‡‡ç”¨å›¾ç»“æ„â€”â€”æ‰€æœ‰ç»“ç‚¹åŒæ­¥æ›´æ–°ï¼Œ$o_t=g(\{h_T^{(v)}|v\in V\})$,æ•ˆç‡ä¸å¦‚å¼‚æ­¥çš„å¾ªç¯/é€’å½’ç½‘ç»œ

![image-20230323073447338](https://raw.githubusercontent.com/cl626/Image/master/Picgo/image-20230323073447338.png)

##### codeç†è§£

* ~~å¦‚ä½•ç†è§£è¯­è¨€çš„å‰åå…³ç³»ï¼Ÿ~~å¦‚ä½•ä»å½“å‰å•è¯é¢„æµ‹ä¸‹ä¸€å•è¯ï¼Œ

1. æ¯ä¸€ä¸ªå•è¯ï¼Œä¸ä»…ä¸å‰ä¸€ä¸ªå•è¯æœ‰å…³ï¼Œå¯èƒ½è¿˜å’Œå‰è‹¥å¹²ä¸ªå•è¯relateï¼›

* RNNï¼Œæ¯ä¸€ä¸ªè¾“å‡ºä¸ä»…ä¸å½“å‰è¾“å…¥æœ‰å…³ï¼Œè¿˜ä¸å‰é©±è¾“å…¥æœ‰å…³

2. whené¢„æµ‹è¯å…ƒï¼Œä¸Šä¸‹æ–‡å…³ç³»è¿™ä¹ˆå¤æ‚ï¼Œéšæœºç¡®å®šç›¸å…³å‰é©±å—ï¼Ÿ

##### RNNå»ºç«‹

2. æ–‡æœ¬å¤„ç†â€”â€”è¯å…ƒâ†’ç´¢å¼•ï¼Œ==ä¼˜åŒ–==â†’é«˜é¢‘è¯ç´¢å¼•å‰ï¼Ÿ

3. è¯­è¨€æ¨¡å‹

* è¯­éŸ³è¯†åˆ«ä¸­æ­§ä¹‰å¯é€šè¿‡è¯­è¨€è¯†åˆ«è§£å†³

* è€ƒè™‘ä¸Šä¸‹æ–‡å…³ç³»ï¼Œç²—æš´æ³•=bayeså®šç†ï¼Œ$P(learning|deep)=\frac {n(deep,learning)}{n(deep)}$é—®é¢˜å¦‚ä¸‹

> 1. å­˜å‚¨æœ‰ç¬›å¡å°”ç§¯ç»„åˆå¹¶ç»Ÿè®¡ï¼ŒğŸ‘‰ç»„åˆçˆ†ç‚¸
> 2. å®Œå…¨å¿½ç•¥å•è¯æ„æ€ï¼Ÿâ€”â€”å•è¯æ„æ€çš„ä½œç”¨ï¼Ÿâ€”â€”å­˜åœ¨æŸç§å¯èƒ½æ€§æ›´å¤§çš„(åŒè·ç¦»æˆ–ä¸åŒè·ç¦»æ›´è¿‘çš„)ä¼°è®¡ï¼Œä½†ä¸ç¬¦åˆä¸Šä¸‹æ–‡æ„æ€
> 3. ä¼°è®¡äº†å¤§éƒ¨åˆ†æœªå‡ºç°çš„longwords 

* Natural language statics

| è¯å…ƒæ•° |                                  illustration                                  |
| --------- | -------------------------------------------------------------------- |
| 1          | $n_i æ­£æ¯”äº\frac 1 {i^\alpha},logn_i=-\alpha logi +c$ |
| 2          | the same ,$\alpha$ smaller                                        |
| 3          | the same ,$\alpha$ smaller                                        |

> nå…ƒç»„æ•°é‡<10ï¼Œè¡¨æ˜å°nå¯ä»¥è¿‘ä¼¼è¦†ç›–æ‰€æœ‰å‡ºç°2æ¬¡ä»¥ä¸Šçš„è¯å¯¹

* å¯¹é•¿åºåˆ—æ•°æ®ï¼Œå¯ä»¥è‡ªå®šä¹‰åç§»ï¼Œå°æ‰¹é‡éšæœºé‡‡æ ·

4. å¾ªç¯ç¥ç»ç½‘ç»œ

* $H_{t-1}$ captures history til current time stepï¼Œ==å•¥ä¹Ÿä¸çŸ¥é“å°±ç”¨H~t-1~çæ‹Ÿåˆï¼Œâˆš==

![image-20230326111536956](https://raw.githubusercontent.com/cl626/Image/master/Picgo/image-20230326111536956.png)

* Perplexity

![image-20230326110932778](https://raw.githubusercontent.com/cl626/Image/master/Picgo/image-20230326110932778.png)

* $\frac 1 n\sum_{t=1}^n logP(x_t|x_{t-1},...,x_1)$ä¸ºCross_Entropy functionï¼ŒæŒ‡æ•°ä¸ºé¢‘åº¦çš„ä¼°è®¡å‡ºç°æ¦‚ç‡å¯¹æ•°ä¹‹å’Œ

5. RNN from zero

* ç‹¬çƒ­ç¼–ç 

> ä¸€ç§ç‰¹æ®Šçš„æ¯”ç‰¹ç»„æˆ–å‘é‡ï¼Œè¯¥å­—èŠ‚æˆ–å‘é‡é‡Œä»…å®¹è®¸å…¶ä¸­ä¸€ä½ä¸º1ï¼Œå…¶ä»–ä½éƒ½å¿…é¡»ä¸º0ï¼Œç‹¬å†·

* ä¸ºä»€ä¹ˆè¦ç”¨ç‹¬çƒ­ç ?

> æ€»ä¹‹ï¼Œç‹¬çƒ­ç æ˜¯ä¸€ç§æ–¹ä¾¿è¡¨ç¤ºç¦»æ•£å˜é‡çš„æ–¹æ³•ï¼Œåœ¨ RNN ä¸­ç”¨äºå°†ç¦»æ•£å˜é‡è¡¨ç¤ºæˆå›ºå®šé•¿åº¦çš„å‘é‡ï¼Œæ–¹ä¾¿è¾“å…¥å’Œè¾“å‡ºã€‚
>
> æŠŠè¾“å…¥è½¬ä¸ºç‹¬çƒ­å—çš„å½¢å¼ï¼Œ==åŠ é€Ÿè®¡ç®—==

* model

![image-20230326122040633](../../Users/c1826/AppData/Roaming/Typora/typora-user-images/image-20230326122040633.png)

> ä¸­é—´å±‚Htçš„ç»´æ•°è‡ªå®š

* ç½‘ç»œå’Œå‰å‘å®šä¹‰ï¼Œå‚æ•°&çŠ¶æ€åˆå§‹åŒ–ï¼Œ
* è®­ç»ƒï¼Œä¼˜åŒ–
* æ¢¯åº¦è£å‰ªï¼Œ$g_{\theta}=min(\frac{\theta}{||g_{\theta}||},\frac{g_{\theta}}{||g_{\theta}||})||g_{\theta}||$

